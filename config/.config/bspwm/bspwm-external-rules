#!/usr/bin/env bash
#===============================================================================
# .config/bspwm/bspwm-external-rules
#
# Custom external rules for BSPWM.
#
# Rules are generated from ${HOME}/config/config/.config/bspwm/bspwmrc
#
# Reference: https://www.reddit.com/r/bspwm/comments/hrugh9/create_rule_using_window_title_instead_of_class/
#===============================================================================

wid=$1
class=$2
instance=$3
rules=$4

#echo "wid: ${wid}, class: ${class}, instance: ${instance}, rules: ${rules}" >> ${HOME}/bspwm_external_rules.log

#title="$(xprop -id ${wid} WM_NAME | sed 's/^.* = \"\(.*\)\"$/\1/')"
#echo "wid: ${wid}, class: ${class}, instance: ${instance}, title: ${title}, rules: ${rules}" >> ${HOME}/bspwm_external_rules.log

# default rules
echo "state=tiled follow=on"

#-------------------------------------------------------------------------------
# Rules generated from ${HOME}/config/config/.config/bspwm/bspwmrc
#-------------------------------------------------------------------------------

[[ "${class}" == "Emacs" ]] || [[ "${class}" == "personal:Emacs" ]] && echo "desktop=^2 follow=on"
[[ "${class}" == "thunderbird" ]] || [[ "${class}" == "personal:thunderbird" ]] && echo "desktop=^3 follow=on"
[[ "${class}" == "betterbird" ]] || [[ "${class}" == "personal:betterbird" ]] && echo "desktop=^3 follow=on"
[[ "${class}" == "ms-outlook-nativefier" ]] || [[ "${class}" == "personal:ms-outlook-nativefier" ]] && echo "desktop=^3 follow=on"
[[ "${class}" == "firefox" ]] || [[ "${class}" == "personal:firefox" ]] && echo "desktop=^4 follow=on"
[[ "${class}" == "LibreWolf" ]] || [[ "${class}" == "personal:LibreWolf" ]] && echo "desktop=^4 follow=on"
[[ "${class}" == "Brave-browser" ]] || [[ "${class}" == "personal:Brave-browser" ]] && echo "desktop=^4 follow=on"
[[ "${class}" == "vivaldi-stable" ]] || [[ "${class}" == "personal:vivaldi-stable" ]] && echo "desktop=^4 follow=on"
[[ "${class}" == "gopherus-sdl" ]] || [[ "${class}" == "personal:gopherus-sdl" ]] && echo "desktop=^4 follow=on"
[[ "${class}" == "Thunar" ]] || [[ "${class}" == "personal:Thunar" ]] && echo "desktop=^5 follow=on"
[[ "${class}" == "Pcmanfm" ]] || [[ "${class}" == "personal:Pcmanfm" ]] && echo "desktop=^5 follow=on"
[[ "${class}" == "Spacefm" ]] || [[ "${class}" == "personal:Spacefm" ]] && echo "desktop=^5 follow=on"
[[ "${class}" == "Org.gnome.Nautilus" ]] || [[ "${class}" == "personal:Org.gnome.Nautilus" ]] && echo "desktop=^5 follow=on"
[[ "${class}" == "Transmission-gtk" ]] || [[ "${class}" == "personal:Transmission-gtk" ]] && echo "desktop=^5 follow=on"
[[ "${class}" == "Slack" ]] || [[ "${class}" == "personal:Slack" ]] && echo "desktop=^6 follow=on"
[[ "${class}" == "discord" ]] || [[ "${class}" == "personal:discord" ]] && echo "desktop=^6 follow=on"
[[ "${class}" == "Pidgin" ]] || [[ "${class}" == "personal:Pidgin" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "Tootle" ]] || [[ "${class}" == "personal:Tootle" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "Com.github.bleakgrey.tootle" ]] || [[ "${class}" == "personal:Com.github.bleakgrey.tootle" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "Element" ]] || [[ "${class}" == "personal:Element" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "dev.geopjr.Tuba" ]] || [[ "${class}" == "personal:dev.geopjr.Tuba" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "Gajim" ]] || [[ "${class}" == "personal:Gajim" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "Hyperspace Desktop" ]] || [[ "${class}" == "personal:Hyperspace Desktop" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "android-messages-desktop" ]] || [[ "${class}" == "personal:android-messages-desktop" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "teams-for-linux" ]] || [[ "${class}" == "personal:teams-for-linux" ]] && echo "desktop=^7 follow=on"
[[ "${class}" == "jetbrains-idea" ]] || [[ "${class}" == "personal:jetbrains-idea" ]] && echo "desktop=^8 follow=on"
[[ "${class}" == "jetbrains-idea-ce" ]] || [[ "${class}" == "personal:jetbrains-idea-ce" ]] && echo "desktop=^8 follow=on"
[[ "${class}" == "jetbrains-studio" ]] || [[ "${class}" == "personal:jetbrains-studio" ]] && echo "desktop=^8 follow=on"
[[ "${class}" == "VirtualBox Manager" ]] || [[ "${class}" == "personal:VirtualBox Manager" ]] && echo "desktop=^8 follow=on"
[[ "${class}" == "VirtualBox Machine" ]] || [[ "${class}" == "personal:VirtualBox Machine" ]] && echo "desktop=^8 follow=on"
[[ "${class}" == "Chromium-browser" ]] || [[ "${class}" == "personal:Chromium-browser" ]] && echo "desktop=^9 follow=on"
[[ "${class}" == "Google-chrome" ]] || [[ "${class}" == "personal:Google-chrome" ]] && echo "desktop=^9 follow=on"
[[ "${class}" == "Gimp-2.10" ]] || [[ "${class}" == "personal:Gimp-2.10" ]] && echo "desktop=^9 follow=on"
[[ "${class}" == "Qmmp" ]] || [[ "${class}" == "personal:Qmmp" ]] && echo "desktop=^9 follow=on"
[[ "${class}" == "mplayer2" ]] || [[ "${class}" == "personal:mplayer2" ]] && echo "desktop=^9 follow=on"
[[ "${class}" == "Lollypop" ]] || [[ "${class}" == "personal:Lollypop" ]] && echo "desktop=^9 follow=on"
[[ "${class}" == "spotify" ]] || [[ "${class}" == "personal:spotify" ]] && echo "desktop=^9 follow=on"
[[ "${class}" == "Emacs" ]] || [[ "${class}" == "personal:Emacs" ]] && echo "state=tiled"
[[ "${class}" == "bluejeans-v2" ]] || [[ "${class}" == "personal:bluejeans-v2" ]] && echo "state=fullscreen"
[[ "${class}" == "Evince" ]] || [[ "${class}" == "personal:Evince" ]] && echo "state=fullscreen"
[[ "${class}" == "Ghb" ]] || [[ "${class}" == "personal:Ghb" ]] && echo "state=fullscreen"
[[ "${class}" == "Gimp-2.10" ]] || [[ "${class}" == "personal:Gimp-2.10" ]] && echo "state=fullscreen"
[[ "${class}" == "mplayer2" ]] || [[ "${class}" == "personal:mplayer2" ]] && echo "state=fullscreen"
[[ "${class}" == "vlc" ]] || [[ "${class}" == "personal:vlc" ]] && echo "state=fullscreen"
[[ "${class}" == "VirtualBox Manager" ]] || [[ "${class}" == "personal:VirtualBox Manager" ]] && echo "state=fullscreen"
[[ "${class}" == "VirtualBox Machine" ]] || [[ "${class}" == "personal:VirtualBox Machine" ]] && echo "state=fullscreen"
[[ "${class}" == "w40k.exe" ]] || [[ "${class}" == "personal:w40k.exe" ]] && echo "state=fullscreen"
[[ "${class}" == "About Pale Moon" ]] || [[ "${class}" == "personal:About Pale Moon" ]] && echo "state=floating center=true"
[[ "${class}" == "alsamixer" ]] || [[ "${class}" == "personal:alsamixer" ]] && echo "state=floating center=true"
[[ "${class}" == "arandr" ]] || [[ "${class}" == "personal:arandr" ]] && echo "state=floating center=true"
[[ "${class}" == "Audacious" ]] || [[ "${class}" == "personal:Audacious" ]] && echo "state=floating sticky=true"
[[ "${class}" == "balena-etcher-electron" ]] || [[ "${class}" == "personal:balena-etcher-electron" ]] && echo "state=floating center=true"
[[ "${class}" == "BasiliskII" ]] || [[ "${class}" == "personal:BasiliskII" ]] && echo "state=floating center=true"
[[ "${class}" == ".blueman-manager-wrapped" ]] || [[ "${class}" == "personal:.blueman-manager-wrapped" ]] && echo "state=floating center=true"
[[ "${class}" == "Calamares" ]] || [[ "${class}" == "personal:Calamares" ]] && echo "state=floating center=true"
[[ "${class}" == "Clipgrab" ]] || [[ "${class}" == "personal:Clipgrab" ]] && echo "state=floating center=true"
[[ "${class}" == "feh" ]] || [[ "${class}" == "personal:feh" ]] && echo "state=floating center=true"
[[ "${class}" == "File Transfer*" ]] || [[ "${class}" == "personal:File Transfer*" ]] && echo "state=floating center=true"
[[ "${class}" == "Font-manager" ]] || [[ "${class}" == "personal:Font-manager" ]] && echo "state=floating center=true"
[[ "${class}" == "Font-viewer" ]] || [[ "${class}" == "personal:Font-viewer" ]] && echo "state=floating center=true"
[[ "${class}" == "Galculator" ]] || [[ "${class}" == "personal:Galculator" ]] && echo "state=floating center=true"
[[ "${class}" == "Gnome-disks" ]] || [[ "${class}" == "personal:Gnome-disks" ]] && echo "state=floating center=true"
[[ "${class}" == "GParted" ]] || [[ "${class}" == "personal:GParted" ]] && echo "state=floating center=true"
[[ "${class}" == "Gxmessage" ]] || [[ "${class}" == "personal:Gxmessage" ]] && echo "state=floating center=true"
[[ "${class}" == "(?i)gsimplecal" ]] || [[ "${class}" == "personal:(?i)gsimplecal" ]] && echo "state=floating center=true"
[[ "${class}" == "iwgtk" ]] || [[ "${class}" == "personal:iwgtk" ]] && echo "state=floating center=true"
[[ "${class}" == "Lightdm-gtk-greeter-settings" ]] || [[ "${class}" == "personal:Lightdm-gtk-greeter-settings" ]] && echo "state=floating center=true"
[[ "${class}" == "Lxappearance" ]] || [[ "${class}" == "personal:Lxappearance" ]] && echo "state=floating center=true"
[[ "${class}" == "Manjaro-hello" ]] || [[ "${class}" == "personal:Manjaro-hello" ]] && echo "state=floating center=true"
[[ "${class}" == "Manjaro Settings Manager" ]] || [[ "${class}" == "personal:Manjaro Settings Manager" ]] && echo "state=floating center=true"
[[ "${class}" == "mpv" ]] || [[ "${class}" == "personal:mpv" ]] && echo "state=floating center=true sticky=on"
[[ "${class}" == "MuseScore: Play Panel" ]] || [[ "${class}" == "personal:MuseScore: Play Panel" ]] && echo "state=floating center=true sticky=on"
[[ "${class}" == "Nitrogen" ]] || [[ "${class}" == "personal:Nitrogen" ]] && echo "state=floating center=true"
[[ "${class}" == "oblogout" ]] || [[ "${class}" == "personal:oblogout" ]] && echo "state=floating center=true"
[[ "${class}" == "octopi" ]] || [[ "${class}" == "personal:octopi" ]] && echo "state=floating center=true"
[[ "${class}" == "Pamac-manager" ]] || [[ "${class}" == "personal:Pamac-manager" ]] && echo "state=floating center=true"
[[ "${class}" == "Paprefs" ]] || [[ "${class}" == "personal:Paprefs" ]] && echo "state=floating center=true"
[[ "${class}" == "Pavucontrol" ]] || [[ "${class}" == "personal:Pavucontrol" ]] && echo "state=floating center=true"
[[ "${class}" == "Qubes-app-menu" ]] || [[ "${class}" == "personal:Qubes-app-menu" ]] && echo "state=floating rectangle=640x480+0+$(xdotool getdisplaygeometry | cut -d ' ' -f 1)"
[[ "${class}" == "Qubes-update-gui" ]] || [[ "${class}" == "personal:Qubes-update-gui" ]] && echo "state=floating center=true"
[[ "${class}" == "Qmmp" ]] || [[ "${class}" == "personal:Qmmp" ]] && echo "state=floating sticky=true"
[[ "${class}" == "qt5ct" ]] || [[ "${class}" == "personal:qt5ct" ]] && echo "state=floating sticky=true"
[[ "${class}" == "Qtconfig-qt4" ]] || [[ "${class}" == "personal:Qtconfig-qt4" ]] && echo "state=floating sticky=true"
[[ "${class}" == "Simple-scan" ]] || [[ "${class}" == "personal:Simple-scan" ]] && echo "state=floating center=true"
[[ "${class}" == "(?i)System-config-printer.py" ]] || [[ "${class}" == "personal:(?i)System-config-printer.py" ]] && echo "state=floating center=true"
[[ "${class}" == "Skype" ]] || [[ "${class}" == "personal:Skype" ]] && echo "state=floating center=true"
[[ "${class}" == "syncterm" ]] || [[ "${class}" == "personal:syncterm" ]] && echo "state=floating center=true"
[[ "${class}" == "Thus" ]] || [[ "${class}" == "personal:Thus" ]] && echo "state=floating center=true"
[[ "${class}" == "Tint2conf" ]] || [[ "${class}" == "personal:Tint2conf" ]] && echo "state=floating center=true"
[[ "${class}" == "Timeset-gui" ]] || [[ "${class}" == "personal:Timeset-gui" ]] && echo "state=floating center=true"
[[ "${class}" == "(?i)virtualbox" ]] || [[ "${class}" == "personal:(?i)virtualbox" ]] && echo "state=floating center=true"
[[ "${class}" == "X48" ]] || [[ "${class}" == "personal:X48" ]] && echo "state=floating center=true"
[[ "${class}" == "Xfburn" ]] || [[ "${class}" == "personal:Xfburn" ]] && echo "state=floating center=true"
[[ "${class}" == "Xfce4-settings-manager" ]] || [[ "${class}" == "personal:Xfce4-settings-manager" ]] && echo "state=floating center=true"
[[ "${class}" == "Yad" ]] || [[ "${class}" == "personal:Yad" ]] && echo "state=floating center=true"
[[ "${class}" == "File Transfer*" ]] || [[ "${class}" == "personal:File Transfer*" ]] && echo "state=floating center=true"


#===============================================================================
# End of File
#===============================================================================
