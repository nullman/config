#!/usr/bin/env bash
#===============================================================================
# .wm-applications-machine
#
# Launch machine-specific window manager applications.
#===============================================================================

# run executable command if found in the path
_run() {
    command -v "$1" >/dev/null 2>&1 && "$@"
}

# run executable command if found in the path and not already running
_once() {
    if command -v "$1" >/dev/null 2>&1 && ! pidof -q "$1" ; then
        "$@" &
    fi
}

# delay running a command (SECONDS COMMAND)
_delay() {
    local delay=$1
    shift
    sleep ${delay} && eval "$@"
}

# run background applications and services
_once xscreensaver -no-splash &
#_once xautolock -time 30 -locker blurlock & # lock screen after 30 minutes
#_once xautolock -time 30 -locker 'xscreensaver-command -lock' & # lock screen after 30 minutes
#_once mpd ${HOME}/.mpd/mpd.conf &
#_once dropbox start &
#_once barriers --config ${HOME}/.barrier.conf &
#_once barrierc SERVER &
#_once emacs --daemon &

# run foreground applications
_once alacritty -e ${HOME}/bin/run-screen &
#_delay 1 _once emacs &
#_delay 1 _once slack &
#_delay 1 _once thunderbird &
_delay 1 _once brave &
#_delay 1 _once firefox &
#_delay 1 _once chromium &
#_delay 1 _once thunar &
#_delay 1 _once pcmanfm &
#_delay 1 _once spacefm &
#_delay 10 _once idea &
#_delay 1 _once discord &
#_delay 10 _once tootle &
#_delay 10 _once com.github.bleakgrey.tootle &
#_delay 10 _once dev.geopjr.Tuba &
#_delay 1 _once syncterm &

# run application launcher
#_run ${HOME}/bin/application-launcher &

#===============================================================================
# End of File
#===============================================================================
