#!/usr/bin/env bash
#===============================================================================
# wordle-match
#
# List wordle words matching given pattern.
#
# Author: Kyle W T Sherman <kylewsherman@gmail.com>
#===============================================================================

if [ $# -lt 1 ] || [ "$1" == "-h" ] || [ "$1" == "--help" ] ; then
    echo "Usage: wordle-match LENGTH EXCLUDE INCLUDE MATCH"
    echo "Search for Wordle words matching given pattern."
    echo "  LENGTH   length of words to consider"
    echo "  EXCLUDE  letters to exclude"
    echo "  INCLUDE  letters to include"
    echo "  MATCH    letters and positions to match (regexp)"
    echo "Example: wordle-match 5 abc def ...gh"
else
    cmd="cat $(dirname $(readlink -f $0))/words.txt | grep '^.\{$1\}$' | tr 'A-Z' 'a-z'"
    if [ $# -gt 1 ] ; then
        cmd="${cmd} | grep --color=never -v '[$2]'"
    fi
    if [ $# -gt 2 ] ; then
        for x in $(echo "$3" | grep -o '.') ; do
            cmd="${cmd} | grep --color=never '${x}'"
        done
    fi
    if [ $# -gt 3 ] ; then
        cmd="${cmd} | grep --color=never '$4'"
    fi
    #echo "${cmd}"
    eval "${cmd}"
fi

#===============================================================================
# End of File
#===============================================================================
